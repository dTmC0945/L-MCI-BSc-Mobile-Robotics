<!DOCTYPE html>
<html lang="en-US" xml:lang="en-US">
 <head>
  <title>
   6 ROS Concepts
  </title>
  <meta charset="utf-8"/>
  <meta content="TeX4ht (https://tug.org/tex4ht/)" name="generator"/>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <link href="MobileRoboticsLectureBook.css" rel="stylesheet" type="text/css"/>
  <meta content="MobileRoboticsLectureBook.tex" name="src"/>
  <script async="async" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/mml-chtml.js" type="text/javascript">
  </script>
  <link href="flatweb.css" rel="stylesheet" type="text/css"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js">
  </script>
  <script src="flatjs.js">
  </script>
  <link href="https://unpkg.com/@highlightjs/cdn-assets@11.3.1/styles/stackoverflow-light.min.css" rel="stylesheet"/>
  <script src="https://unpkg.com/@highlightjs/cdn-assets@11.3.1/highlight.min.js">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/dockerfile.min.js">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/makefile.min.js">
  </script>
  <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js">
  </script>
  <link href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" rel="stylesheet"/>
  <script src="flatjs.js">
  </script>
  <header>
  </header>
 </head>
 <body id="top">
  <nav class="wide">
   <div class="contents">
    <h3 style="font-weight:lighter; padding: 20px 0 20px 0;">
     6
   
     
   

   ROS Concepts
    </h3>
    <h4 style="font-weight:lighter">
     Chapter Table of Contents
    </h4>
    <ul>
     <div class="chapterTOCS">
      <li>
       <span class="sectionToc">
        <small>
         6.1
        </small>
        <a href="#x8-850006.1">
         Introduction
        </a>
       </span>
      </li>
      <li>
       <span class="sectionToc">
        <small>
         6.2
        </small>
        <a href="#x8-860006.2">
         Publisher and Subscriber Architecture
        </a>
       </span>
      </li>
      <li>
       <span class="sectionToc">
        <small>
         6.3
        </small>
        <a href="#x8-870006.3">
         Nodes - The Building Blocks
        </a>
       </span>
      </li>
      <li>
       <span class="sectionToc">
        <small>
         6.4
        </small>
        <a href="#x8-880006.4">
         The Discovery Process
        </a>
       </span>
      </li>
      <li>
       <span class="sectionToc">
        <small>
         6.5
        </small>
        <a href="#x8-890006.5">
         Communication Between Nodes
        </a>
       </span>
      </li>
      <li>
       <span class="subsectionToc" style="font-size:12px;margin:0px;">
        <small>
         6.5.1
        </small>
        <a href="#x8-900006.5.1">
         Description
        </a>
       </span>
      </li>
      <li>
       <span class="subsectionToc" style="font-size:12px;margin:0px;">
        <small>
         6.5.2
        </small>
        <a href="#x8-910006.5.2">
         Messages
        </a>
       </span>
      </li>
      <li>
       <span class="sectionToc">
        <small>
         6.6
        </small>
        <a href="#x8-990006.6">
         Topics
        </a>
       </span>
      </li>
      <li>
       <span class="subsectionToc" style="font-size:12px;margin:0px;">
        <small>
         6.6.1
        </small>
        <a href="#x8-1000006.6.1">
         Publisher - Subscriber Architecture
        </a>
       </span>
      </li>
      <li>
       <span class="subsectionToc" style="font-size:12px;margin:0px;">
        <small>
         6.6.2
        </small>
        <a href="#x8-1010006.6.2">
         Anonymity
        </a>
       </span>
      </li>
      <li>
       <span class="subsectionToc" style="font-size:12px;margin:0px;">
        <small>
         6.6.3
        </small>
        <a href="#x8-1020006.6.3">
         Strongly-Typed
        </a>
       </span>
      </li>
      <li>
       <span class="sectionToc">
        <small>
         6.7
        </small>
        <a href="#x8-1030006.7">
         Services
        </a>
       </span>
      </li>
      <li>
       <span class="subsectionToc" style="font-size:12px;margin:0px;">
        <small>
         6.7.1
        </small>
        <a href="#x8-1040006.7.1">
         Service Server
        </a>
       </span>
      </li>
      <li>
       <span class="sectionToc">
        <small>
         6.8
        </small>
        <a href="#x8-1060006.8">
         Actions
        </a>
       </span>
      </li>
      <li>
       <span class="subsectionToc" style="font-size:12px;margin:0px;">
        <small>
         6.8.1
        </small>
        <a href="#x8-1070006.8.1">
         Action Server
        </a>
       </span>
      </li>
      <li>
       <span class="subsectionToc" style="font-size:12px;margin:0px;">
        <small>
         6.8.2
        </small>
        <a href="#x8-1080006.8.2">
         Action Client
        </a>
       </span>
      </li>
      <li>
       <span class="sectionToc">
        <small>
         6.9
        </small>
        <a href="#x8-1090006.9">
         Parameters
        </a>
       </span>
      </li>
      <li>
       <span class="subsectionToc" style="font-size:12px;margin:0px;">
        <small>
         6.9.1
        </small>
        <a href="#x8-1100006.9.1">
         A Detailed Look
        </a>
       </span>
      </li>
      <li>
       <span class="subsectionToc" style="font-size:12px;margin:0px;">
        <small>
         6.9.2
        </small>
        <a href="#x8-1140006.9.2">
         Parameter Interaction
        </a>
       </span>
      </li>
      <li>
       <span class="sectionToc">
        <small>
         6.10
        </small>
        <a href="#x8-1180006.10">
         Working with Command Line
        </a>
       </span>
      </li>
      <li>
       <span class="sectionToc">
        <small>
         6.11
        </small>
        <a href="#x8-1190006.11">
         Launch File
        </a>
       </span>
      </li>
     </div>
    </ul>
    <div class="prev-next" style="text-align: center">
     <p class="noindent">
      <a href="MobileRoboticsLectureBookch7.html" style="float:right; font-size:10px">
       NEXT CHAPTER →
      </a>
      <a href="MobileRoboticsLectureBookch5.html" style="float:left; font-size:10px">
       ← PREV CHAPTER
      </a>
     </p>
    </div>
    <div id="author-info" style="bottom: 0; padding-bottom: 10px;">
     <div id="author-logo">
      <img src="figures/logo.svg" style="margin: 10px 0;"/>
      <div>
       <div>
        <h4 style="color:#7aa0b8; font-weight:lighter;">
         WebBook | D. T. McGuiness, P.hD
        </h4>
       </div>
      </div>
     </div>
    </div>
   </div>
  </nav>
  <div class="page">
   <article class="chapter">
    <h1 class="chapterHead">
     <div class="number">
      6
     </div>
     <a id="x8-840006">
     </a>
     ROS Concepts
    </h1>
    <div class="section-control" style="text-align: center">
     <a id="prev-section" onclick="goPrev()" style="float:left;">
      ← Previous Section
     </a>
     <a id="next-section" onclick="goNext()" style="float:right;">
      Next Section →
     </a>
    </div>
    <div class="section-head" id="section-1" sec="section-1">
     <h2 class="sectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#section.6.1" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.1
      </small>
      <a id="x8-850006.1">
      </a>
      Introduction
     </h2>
     <p class="noindent">
      Before diving into the vast world of
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>, it is worth looking at some concepts and ideas which are
used. Most of the concept we will cover will be relatively high-level and therefore are here to give you
more of an idea of the cogs and gears working in the system.
     </p>
     <p class="noindent">
      In
a
nutshell,
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      is
a
middle-ware
      <alert style="color: #821131;">
       <span id="bold" style="font-weight:bold;">
        <sup class="textsuperscript">
         1
        </sup>
       </span>
      </alert>
      <span class="marginnote">
       <alert style="color: #821131;">
        <span id="bold" style="font-weight:bold;">
         <sup class="textsuperscript">
          1
         </sup>
        </span>
       </alert>
       <span id="textcolor1902">
        a
software
that
facilitates
communication
and
                                                                                
                                                                                
data
management
between
applications,
systems,
and
databases.
       </span>
      </span>
      software
based
on
a
      <span id="bold" style="font-weight:bold;">
       strongly-typed
      </span>
      ,
      <span id="bold" style="font-weight:bold;">
       anonymous
publish/subscribe
      </span>
      mechanism
which
allows
for
message
passing
between
different
processes.
     </p>
     <p class="noindent">
      At
the
heart
of
any
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      system
is
the
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      graph
where
the
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      graph
refers
to
the
network
of
nodes
in
a
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      system
and
the
connections
between
them
by
which
they
communicate.
     </p>
     <p class="noindent">
     </p>
    </div>
    <div class="section-head" id="section-2" sec="section-2">
     <h2 class="sectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#section.6.2" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.2
      </small>
      <a id="x8-860006.2">
      </a>
      Publisher and Subscriber Architecture
     </h2>
     <p class="noindent">
      A common design pattern in used
      <alert style="color: #821131;">
       concurrency programming
      </alert>
      is the
      <alert style="color: #821131;">
       producer-consumer architecture
      </alert>
      , where;
     </p>
     <ul class="itemize1">
      <li class="itemize">
       <p class="noindent">
        One
or
more
threads
or
processes
act
as
a
producer,
where
it
adds
elements
to
some
shared
data
structure,
       </p>
      </li>
      <li class="itemize">
       <p class="noindent">
        One
or
more
other
threads
act
as
a
consumer
where
it
removes
items
from
that
structure
and
does
something
with
them.
       </p>
      </li>
     </ul>
     <p class="noindent">
      To demonstrate, imagine the producer is preparing coffee for the customers. This makes the customers, consumers. As the barista
makes coffee, it creates a
      <alert style="color: #821131;">
       queue
      </alert>
      of coffees waiting to be consumed by the customers. Queues operate on a simple principle called a
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:fifo">
       First In First Out ()
      </a>. This means items are removed in the same order that they’re put into the queue. The first item
added, in this case coffee, will be the first item to be removed. So when a customer wants to consume another
cup of coffee, they’ll grab one from the end of the line because it’s been in the queue the longest. The coffee
represent elements of data for the consumer thread to process or perhaps packaged tasks for the consumer to
execute.
     </p>
     <p class="noindent">
      An important factor to consider is the need of a protection to make sure the producer won’t try to add data to the queue
when it’s full and the consumer won’t try to remove data from an empty buffer. Some programming languages
                                                                                
                                                                                
may include implementations of a queue that’s considered thread-safe and handles all of these challenges under
the hood, so we don’t have to, but some languages does not include that support. Therefore we need to use the
combination of a mutex (mutual exclusion) and condition variables to implement your own thread-safe, synchronised
queue.
     </p>
     <p class="noindent">
      We may run into scenarios where the producer cannot be paused if the queue fills up, for example, when it is an
external source of streaming data that we can’t slow down, so it’s important to consider the rate at which items are
produced and consumed from the queue. If the consumer can’t keep up with production, then we face a
      <alert style="color: #821131;">
       buffer
overflow
      </alert>
      , and we’ll lose data. Some programming languages offer implementations of unbounded queues, which are
implemented using linked lists to have an advertised unlimited capacity. But keep in mind, even those will be
limited by the amount of physical memory in the computer. The rate at which the producer is adding items may
not always be consistent. For example, in network applications, data might arrive in bursts of network packets,
which fill the queue quickly. But if those bursts occur infrequently, the consumer has time to catch up between
bursts.
     </p>
     <p class="noindent">
      We should consider the average rate at which items are produced and consumed as we want the average rate of
production to be less than the average rate of consumption. But if more steps were required to process this data, then
we could expand our simple producer-consumer setup into a pipeline of tasks. A pipeline consists of a chain of
processing elements arranged so that the output of each element is the input to the next one. It’s basically a series of
producer-consumer pairs connected together with some sort of buffer, like a queue, between each consecutive
element.
     </p>
     <p class="noindent">
     </p>
    </div>
    <div class="section-head" id="section-3" sec="section-3">
     <h2 class="sectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#section.6.3" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.3
      </small>
      <a id="x8-870006.3">
      </a>
      Nodes - The Building Blocks
     </h2>
     <p class="noindent">
      A
node
is
an
actor
in
the
overall
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      graph,
which
uses
a
client
library
      <alert style="color: #821131;">
       <span id="bold" style="font-weight:bold;">
        <sup class="textsuperscript">
         2
        </sup>
       </span>
      </alert>
      <span class="marginnote">
       <alert style="color: #821131;">
        <span id="bold" style="font-weight:bold;">
         <sup class="textsuperscript">
          2
         </sup>
        </span>
       </alert>
       <span id="textcolor1905">
        This
could
either
be <span id="textcolor1906"><code class="verb">rospy</code></span>
        or <span id="textcolor1907"><code class="verb">roscpp</code></span>
        depending
on
the
chosen
language.
       </span>
      </span>
      to
communicate
with
      <alert style="color: #821131;">
       other
nodes
      </alert>
      .
     </p>
     <div class="knowledge">
      <p class="noindent">
       Nodes can also communicate with other nodes within the same process, in a different process, or on a different
machine and are considered the
       <alert style="color: #821131;">
        unit of computation
       </alert>
       in a
       <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
        ROS
       </a>
       graph as each node should do one logical thing.
      </p>
     </div>
     <p class="noindent">
      Nodes can either
      <alert style="color: #821131;">
       publish
      </alert>
      to named topics to deliver data to other nodes, or
      <alert style="color: #821131;">
       subscribe
      </alert>
      to named topics to get data from other
nodes. They can also act as a service client to have another node perform a computation on their behalf, or as a service server to
provide functionality to other nodes.
     </p>
     <p class="noindent">
      For long-running calculations, a node can act as an action client to have another node perform it on their behalf, or as an action
server to provide functionality to other nodes. Nodes can provide configurable parameters to change behaviour during
run-time.
     </p>
     <div class="knowledge">
      <p class="noindent">
       Nodes are often a complex combination of publishers, subscribers, service servers, service clients, action servers, and action
clients, all at the same time.
      </p>
     </div>
     <p class="noindent">
      An advantage of using nodes is that it allows
      <alert style="color: #821131;">
       language agnostic programming
      </alert>
      . It means we can write one node in Python,
another node in C++, and both can communicate without any problem. In addition they provide a
      <alert style="color: #821131;">
       great fault tolerance
      </alert>
      . As
nodes only communicate through
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>, they are not directly linked. If one node crashes, it will not make the other nodes
crash.
     </p>
     <p class="noindent">
      For all these actions to work, a node needs to know where others are. Therefore, to achieve this we use a method called a
      <alert style="color: #821131;">
       distributed discovery process
      </alert>
      .
     </p>
     <p class="noindent">
     </p>
    </div>
    <div class="section-head" id="section-4" sec="section-4">
     <h2 class="sectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#section.6.4" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.4
      </small>
      <a id="x8-880006.4">
      </a>
      The Discovery Process
     </h2>
     <p class="noindent">
      Discovery of nodes happens
      <span id="bold" style="font-weight:bold;">
       automatically
      </span>
      through the underlying middle-ware of
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>. The sequence of operations can be
summarised as follows:
     </p>
     <p class="noindent">
     </p>
     <dl class="enumerate-enumitem">
      <dt class="enumerate-enumitem">
       1.
      </dt>
      <dd class="enumerate-enumitem">
       When
a
node
is
started,
it
advertises
its
presence
to
other
nodes
on
the
network
with
the
same
       <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
        ROS
       </a>
       domain.
       <alert style="color: #821131;">
        <span id="bold" style="font-weight:bold;">
         <sup class="textsuperscript">
          3
         </sup>
        </span>
       </alert>
       <span class="marginnote">
        <alert style="color: #821131;">
         <span id="bold" style="font-weight:bold;">
          <sup class="textsuperscript">
           3
          </sup>
         </span>
        </alert>
        <span id="textcolor1908">
         This
is
set
with
the <span id="textcolor1909"><code class="verb">ROS_DOMAIN_ID</code></span>
         environment
variable
which
is
used
to
isolate
multiple
         <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
          ROS
         </a>
         systems
from
each
other
on
the
same
network.
        </span>
       </span>
       Nodes
respond
to
this
advertisement
with
information
about
themselves
so
                                                                                
                                                                                
                                                                             
that
the
appropriate
connections
can
be
made
and
the
nodes
can
communicate.
      </dd>
      <dt class="enumerate-enumitem">
       2.
      </dt>
      <dd class="enumerate-enumitem">
       Nodes
       <alert style="color: #821131;">
        periodically
       </alert>
       announce
their
presence
so
connections
can
be
made
with
new-found
entities,
       <alert style="color: #821131;">
        even
after
the
initial
discovery
period
       </alert>
       .
      </dd>
      <dt class="enumerate-enumitem">
       3.
      </dt>
      <dd class="enumerate-enumitem">
       Nodes
advertise
to
other
nodes
when
they
go
offline.
      </dd>
     </dl>
     <div class="warning">
      <p class="noindent">
       Nodes will only establish connections with others having compatible Quality of Service.
       <alert style="color: #821131;">
        <span id="bold" style="font-weight:bold;">
         <sup class="textsuperscript">
          4
         </sup>
        </span>
       </alert>
       <span class="marginnote">
        <alert style="color: #821131;">
         <span id="bold" style="font-weight:bold;">
          <sup class="textsuperscript">
           4
          </sup>
         </span>
        </alert>
        <span id="textcolor1910">
         In this context it means the description
or measurement of the overall performance of a service, such as a telephony or computer network, or a cloud computing service,
particularly the performance seen by the users of the network.
        </span>
       </span>
      </p>
     </div>
     <p class="noindent">
      As an example to see whats going on let’s used the built-in example of <span id="textcolor1911"><code class="verb">talker-listener</code></span>. As the name implies, one node advertises
the presence and the other listens.
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       bash
      </div>
      <pre><div class="language-bash" id="fancyvrb105" style="padding:20px;border-radius: 3px;"><a id="x8-88005r152"></a>.<span id="textcolor1912"> </span>~/ros2_humble/install/local_setup.bash 
<a id="x8-88007r153"></a>ros2<span id="textcolor1913"> </span>run<span id="textcolor1914"> </span>demo_nodes_cpp<span id="textcolor1915"> </span>talker</div></pre>
     </div>
     <div class="tcolorbox tcolorbox" id="tcolobox-54">
      <div class="tcolorbox-content">
       <div class="code-block">
        <div class="code-lang">
         text
        </div>
        <pre><div class="language-text" id="fancyvrb106" style="padding:20px;border-radius: 3px;"><a id="x8-88009r1"></a>[INFO] [1748930700.789182596] [talker]: Publishing: 'Hello World: 1' 
<a id="x8-88011r2"></a>[INFO] [1748930701.785043679] [talker]: Publishing: 'Hello World: 2' 
<a id="x8-88013r3"></a>[INFO] [1748930702.785231597] [talker]: Publishing: 'Hello World: 3' 
<a id="x8-88015r4"></a>[INFO] [1748930703.785897764] [talker]: Publishing: 'Hello World: 4'</div></pre>
       </div>
      </div>
     </div>
     <p class="noindent">
      Now it is running in one, open another terminal window, and type:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       bash
      </div>
      <pre><div class="language-bash" id="fancyvrb107" style="padding:20px;border-radius: 3px;"><a id="x8-88017r167"></a>.<span id="textcolor1916"> </span>~/ros2_humble/install/local_setup.bash 
<a id="x8-88019r168"></a>ros2<span id="textcolor1917"> </span>run<span id="textcolor1918"> </span>demo_nodes_py<span id="textcolor1919"> </span>listener</div></pre>
     </div>
     <div class="tcolorbox tcolorbox" id="tcolobox-55">
      <div class="tcolorbox-content">
       <div class="code-block">
        <div class="code-lang">
         text
        </div>
        <pre><div class="language-text" id="fancyvrb108" style="padding:20px;border-radius: 3px;"><a id="x8-88021r1"></a>[INFO] [1748930759.815469762] [listener]: I heard: [Hello World: 60] 
<a id="x8-88023r2"></a>[INFO] [1748930760.787999512] [listener]: I heard: [Hello World: 61] 
<a id="x8-88025r3"></a>[INFO] [1748930761.787663179] [listener]: I heard: [Hello World: 62] 
<a id="x8-88027r4"></a>[INFO] [1748930762.787127847] [listener]: I heard: [Hello World: 63]</div></pre>
       </div>
      </div>
     </div>
     <p class="noindent">
      Running the C++ talker node in one terminal will
      <span id="bold" style="font-weight:bold;">
       publish
      </span>
      messages on a topic, and the Python listener node running in another
terminal will
      <span id="bold" style="font-weight:bold;">
       subscribe
      </span>
      to messages on the same topic.
     </p>
     <p class="noindent">
      We should see that these nodes discover each other automatically, and begin to exchange messages.
     </p>
     <p class="noindent">
     </p>
    </div>
    <div class="section-head" id="section-5" sec="section-5">
     <h2 class="sectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#section.6.5" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.5
      </small>
      <a id="x8-890006.5">
      </a>
      Communication Between Nodes
     </h2>
     <h3 class="subsectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#subsection.6.5.1" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.5.1
      </small>
      <a id="x8-900006.5.1">
      </a>
      Description
     </h3>
     <p class="noindent">
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      applications generally communicate through interfaces of one of three <alert style="color: #821131;">(3)</alert> types:
     </p>
     <dl class="enumerate-enumitem">
      <dt class="enumerate-enumitem">
       1.
      </dt>
      <dd class="enumerate-enumitem">
       topics,
      </dd>
      <dt class="enumerate-enumitem">
       2.
      </dt>
      <dd class="enumerate-enumitem">
       services,
      </dd>
      <dt class="enumerate-enumitem">
       3.
      </dt>
      <dd class="enumerate-enumitem">
       actions.
      </dd>
     </dl>
     <p class="noindent">
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      uses a simplified description language
      <alert style="color: #821131;">
       <span id="bold" style="font-weight:bold;">
        <sup class="textsuperscript">
         5
        </sup>
       </span>
      </alert>
      <span class="marginnote">
       <alert style="color: #821131;">
        <span id="bold" style="font-weight:bold;">
         <sup class="textsuperscript">
          5
         </sup>
        </span>
       </alert>
       <span id="textcolor1920">
        interface definition language.
       </span>
      </span>
      to describe these interfaces. This description allows
simplification for
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      tools to automatically generate source code for the interface type in several target languages.
      <alert style="color: #821131;">
       <span id="bold" style="font-weight:bold;">
        <sup class="textsuperscript">
         6
        </sup>
       </span>
      </alert>
      <span class="marginnote">
       <alert style="color: #821131;">
        <span id="bold" style="font-weight:bold;">
         <sup class="textsuperscript">
          6
         </sup>
        </span>
       </alert>
       <span id="textcolor1921">
        i.e.,
Python, C++
       </span>
      </span>
      In this document we will describe the supported types:
     </p>
     <dl class="description">
      <dt class="description"> <span id="textcolor1922"><code class="verb">msg</code></span>
      </dt>
      <dd class="description">
       <p class="noindent">
        simple
text
files
describing
the
fields
of
a
        <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
         ROS
        </a>
        message.
They
are
used
to
generate
source
code
for
messages
in
different
languages.
       </p>
      </dd>
      <dt class="description"> <span id="textcolor1923"><code class="verb">srv</code></span>
      </dt>
      <dd class="description">
       <p class="noindent">
        describes a service and composed of two <alert style="color: #821131;">(2)</alert> parts:
       </p>
       <ul class="itemize1">
        <li class="itemize">
         <p class="noindent">
          a
request,
and
         </p>
        </li>
        <li class="itemize">
         <p class="noindent">
          a
response.
         </p>
        </li>
       </ul>
       <p class="noindent">
        The request and response are
        <alert style="color: #821131;">
         message declarations
        </alert>
        .
       </p>
      </dd>
      <dt class="description"> <span id="textcolor1926"><code class="verb">action</code></span>
      </dt>
      <dd class="description">
       <p class="noindent">
        describes actions and composed of three <alert style="color: #821131;">(3)</alert> parts:
       </p>
       <ul class="itemize1">
        <li class="itemize">
         <p class="noindent">
          a
goal,
         </p>
        </li>
        <li class="itemize">
         <p class="noindent">
          a
result,
and
         </p>
        </li>
        <li class="itemize">
         <p class="noindent">
          a
feedback.
         </p>
        </li>
       </ul>
       <p class="noindent">
        Each part is
        <alert style="color: #821131;">
         a message declaration itself
        </alert>
        .
       </p>
      </dd>
     </dl>
     <h3 class="subsectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#subsection.6.5.2" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.5.2
      </small>
      <a id="x8-910006.5.2">
      </a>
      Messages
     </h3>
     <p class="noindent">
      Messages are a way for a
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      node to
      <alert style="color: #821131;">
       send data
      </alert>
      on the network to other
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      nodes,
      <alert style="color: #821131;">
       without expecting any
responses
      </alert>
      .
     </p>
     <div class="quoteblock">
      <p class="noindent">
       As
an
example,
let’s
say
a
       <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
        ROS
       </a>
       node
reads
temperature
data
from
a
sensor.
It
can
then
       <span id="bold" style="font-weight:bold;">
        publish
       </span>
       that
data
                                                                                
                                                                                
     
on
the
       <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
        ROS
       </a>
       network
using
a <span id="textcolor1930"><code class="verb">Temperature</code></span>
       message.
Other
nodes
on
the
       <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
        ROS
       </a>
       network
can
       <alert style="color: #821131;">
        subscribe
       </alert>
       to
that
data
and
receive
the <span id="textcolor1931"><code class="verb">Temperature</code></span>
       message.
      </p>
     </div>
     <p class="noindent">
      Messages are described and defined in <span id="textcolor1932"><code class="verb">.msg</code></span>
      files in the <span id="textcolor1933"><code class="verb">msg/</code></span>
      directory of a
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      package.
     </p>
     <p class="noindent"> <span id="textcolor1934"><code class="verb">.msg</code></span>
      files are composed of two <alert style="color: #821131;">(2)</alert> parts:
     </p>
     <dl class="description">
      <dt class="description">
       Fields
      </dt>
      <dd class="description">
       <p class="noindent">
        Information
about
a
data
type
and
its
name
       </p>
      </dd>
      <dt class="description">
       Constants
      </dt>
      <dd class="description">
       <p class="noindent">
        Similar
to
other
languages,
define
an
        <alert style="color: #821131;">
         unchangeable
        </alert>
        variable.
       </p>
      </dd>
     </dl>
     <h5 class="likesubsubsectionHead">
      <a id="x8-92000">
      </a>
      Fields
     </h5>
     <p class="noindent">
      Each field consists of a
      <span id="bold" style="font-weight:bold;">
       type
      </span>
      and a
      <span id="bold" style="font-weight:bold;">
       name
      </span>
      , separated by a space. The syntax for this would be the following:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb109" style="padding:20px;border-radius: 3px;"><a id="x8-92002r25"></a>fieldtype1 fieldname1 
<a id="x8-92004r26"></a>fieldtype2 fieldname2 
<a id="x8-92006r27"></a>fieldtype3 fieldname3</div></pre>
     </div>
     <p class="noindent">
      For example, lets say we want to define a 32-bit integer and a string variable. For that we would have to write the
following:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb110" style="padding:20px;border-radius: 3px;"><a id="x8-92008r32"></a>int32 my_int 
<a id="x8-92010r33"></a>string my_string</div></pre>
     </div>
     <a id="paragraph*.11">
     </a>
     <p class="noindent">
      <span class="paragraphHead">
       <a id="x8-93000">
       </a>
       Field Types
      </span>
      As with most statically-typed languages we need to define what type of variables we are working. In
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>, the fields type can be
one of two <alert style="color: #821131;">(2)</alert> things:
     </p>
     <ul class="itemize1">
      <li class="itemize">
       <p class="noindent">
        A
built-in
type,
       </p>
      </li>
      <li class="itemize">
       <p class="noindent">
        names
of
Message
descriptions
defined
on
their
own,
such
as <span id="textcolor1937"><code class="verb">geometry_msgs/PoseStamped</code></span>
       </p>
      </li>
     </ul>
     <p class="noindent">
      The following is a table of all currently built-in variable types.
     </p>
     <table class="tabularray tblr" id="tbl-10">
      <p class="noindent">
       <div display="inline" xmlns="http://www.w3.org/1998/Math/MathML">
        <tr id="row-10-1-">
         <td id="cell10-1-1" style="text-align:justify;vertical-align:top;">
          Type
name
         </td>
         <td id="cell10-1-2" style="text-align:justify;vertical-align:top;">
          C++
         </td>
         <td id="cell10-1-3" style="text-align:justify;vertical-align:top;">
          Python
         </td>
         <td id="cell10-1-4" style="text-align:justify;vertical-align:top;">
          DDS
type
         </td>
        </tr>
        <tr id="row-10-2-">
         <td id="cell10-2-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2118"><code class="verb">bool</code></span>
         </td>
         <td id="cell10-2-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2119"><code class="verb">bool</code></span>
         </td>
         <td id="cell10-2-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2120"><code class="verb">builtins.bool</code></span>
         </td>
         <td id="cell10-2-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2121"><code class="verb">boolean</code></span>
         </td>
        </tr>
        <tr id="row-10-3-">
         <td id="cell10-3-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2122"><code class="verb">byte</code></span>
         </td>
         <td id="cell10-3-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2123"><code class="verb">uint8_t</code></span>
         </td>
         <td id="cell10-3-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2124"><code class="verb">builtins.bytes*</code></span>
         </td>
         <td id="cell10-3-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2125"><code class="verb">octet</code></span>
         </td>
        </tr>
        <tr id="row-10-4-">
         <td id="cell10-4-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2126"><code class="verb">char</code></span>
         </td>
         <td id="cell10-4-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2127"><code class="verb">char</code></span>
         </td>
         <td id="cell10-4-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2128"><code class="verb">builtins.int*</code></span>
         </td>
         <td id="cell10-4-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2129"><code class="verb">char</code></span>
         </td>
        </tr>
        <tr id="row-10-5-">
         <td id="cell10-5-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2130"><code class="verb">float32</code></span>
         </td>
         <td id="cell10-5-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2131"><code class="verb">float</code></span>
         </td>
         <td id="cell10-5-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2132"><code class="verb">builtins.float*</code></span>
         </td>
         <td id="cell10-5-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2133"><code class="verb">float</code></span>
         </td>
        </tr>
        <tr id="row-10-6-">
         <td id="cell10-6-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2134"><code class="verb">float64</code></span>
         </td>
         <td id="cell10-6-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2135"><code class="verb">double</code></span>
         </td>
         <td id="cell10-6-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2136"><code class="verb">builtins.float*</code></span>
         </td>
         <td id="cell10-6-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2137"><code class="verb">double</code></span>
         </td>
        </tr>
        <tr id="row-10-7-">
         <td id="cell10-7-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2138"><code class="verb">int8</code></span>
         </td>
         <td id="cell10-7-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2139"><code class="verb">int8_t</code></span>
         </td>
         <td id="cell10-7-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2140"><code class="verb">builtins.int*</code></span>
         </td>
         <td id="cell10-7-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2141"><code class="verb">octet</code></span>
         </td>
        </tr>
        <tr id="row-10-8-">
         <td id="cell10-8-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2142"><code class="verb">uint8</code></span>
         </td>
         <td id="cell10-8-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2143"><code class="verb">uint8_t</code></span>
         </td>
         <td id="cell10-8-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2144"><code class="verb">builtins.int*</code></span>
         </td>
         <td id="cell10-8-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2145"><code class="verb">octet</code></span>
         </td>
        </tr>
        <tr id="row-10-9-">
         <td id="cell10-9-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2146"><code class="verb">int16</code></span>
         </td>
         <td id="cell10-9-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2147"><code class="verb">int16_t</code></span>
         </td>
         <td id="cell10-9-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2148"><code class="verb">builtins.int*</code></span>
         </td>
         <td id="cell10-9-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2149"><code class="verb">short</code></span>
         </td>
        </tr>
        <tr id="row-10-10-">
         <td id="cell10-10-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2150"><code class="verb">uint16</code></span>
         </td>
         <td id="cell10-10-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2151"><code class="verb">uint16_t</code></span>
         </td>
         <td id="cell10-10-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2152"><code class="verb">builtins.int*</code></span>
         </td>
         <td id="cell10-10-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2153"><code class="verb">unsigned short</code></span>
         </td>
        </tr>
        <tr id="row-10-11-">
         <td id="cell10-11-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2154"><code class="verb">int32</code></span>
         </td>
         <td id="cell10-11-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2155"><code class="verb">int32_t</code></span>
         </td>
         <td id="cell10-11-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2156"><code class="verb">builtins.int*</code></span>
         </td>
         <td id="cell10-11-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2157"><code class="verb">long</code></span>
         </td>
        </tr>
        <tr id="row-10-12-">
         <td id="cell10-12-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2158"><code class="verb">uint32</code></span>
         </td>
         <td id="cell10-12-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2159"><code class="verb">uint32_t</code></span>
         </td>
         <td id="cell10-12-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2160"><code class="verb">builtins.int*</code></span>
         </td>
         <td id="cell10-12-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2161"><code class="verb">unsigned long</code></span>
         </td>
        </tr>
        <tr id="row-10-13-">
         <td id="cell10-13-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2162"><code class="verb">int64</code></span>
         </td>
         <td id="cell10-13-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2163"><code class="verb">int64_t</code></span>
         </td>
         <td id="cell10-13-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2164"><code class="verb">builtins.int*</code></span>
         </td>
         <td id="cell10-13-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2165"><code class="verb">long long</code></span>
         </td>
        </tr>
        <tr id="row-10-14-">
         <td id="cell10-14-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2166"><code class="verb">uint64</code></span>
         </td>
         <td id="cell10-14-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2167"><code class="verb">uint64_t</code></span>
         </td>
         <td id="cell10-14-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2168"><code class="verb">builtins.int*</code></span>
         </td>
         <td id="cell10-14-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2169"><code class="verb">unsigned long long</code></span>
         </td>
        </tr>
        <tr id="row-10-15-">
         <td id="cell10-15-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2170"><code class="verb">string</code></span>
         </td>
         <td id="cell10-15-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2171"><code class="verb">std::string</code></span>
         </td>
         <td id="cell10-15-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2172"><code class="verb">builtins.str</code></span>
         </td>
         <td id="cell10-15-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2173"><code class="verb">string</code></span>
         </td>
        </tr>
        <tr id="row-10-16-">
         <td id="cell10-16-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2174"><code class="verb">wstring</code></span>
         </td>
         <td id="cell10-16-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2175"><code class="verb">std::u16string</code></span>
         </td>
         <td id="cell10-16-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2176"><code class="verb">builtins.str</code></span>
         </td>
         <td id="cell10-16-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2177"><code class="verb">wstring</code></span>
         </td>
        </tr>
       </div>
      </p>
     </table>
     <p class="noindent">
      In addition, array-like feature are also supported
     </p>
     <table class="tabularray tblr" id="tbl-11">
      <div display="inline" xmlns="http://www.w3.org/1998/Math/MathML">
       <tr id="row-11-1-">
        <td id="cell11-1-1" style="text-align:justify;vertical-align:top;background-color:#F5F5F5;">
         Type
name
        </td>
        <td id="cell11-1-2" style="text-align:justify;vertical-align:top;background-color:#F5F5F5;">
         C++
        </td>
        <td id="cell11-1-3" style="text-align:justify;vertical-align:top;background-color:#F5F5F5;">
         Python
        </td>
        <td id="cell11-1-4" style="text-align:justify;vertical-align:top;background-color:#F5F5F5;">
         DDS
type
        </td>
       </tr>
       <tr id="row-11-2-">
        <td id="cell11-2-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2226"><code class="verb">static array</code></span>
        </td>
        <td id="cell11-2-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2227"><code class="verb">std::array&lt;T, N&gt;</code></span>
        </td>
        <td id="cell11-2-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2228"><code class="verb">builtins.list*</code></span>
        </td>
        <td id="cell11-2-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2229"><code class="verb">T[N]</code></span>
        </td>
       </tr>
       <tr id="row-11-3-">
        <td id="cell11-3-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2230"><code class="verb">unbounded dynamic array</code></span>
        </td>
        <td id="cell11-3-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2231"><code class="verb">std::vector</code></span>
        </td>
        <td id="cell11-3-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2232"><code class="verb">builtins.list</code></span>
        </td>
        <td id="cell11-3-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2233"><code class="verb">sequence</code></span>
        </td>
       </tr>
       <tr id="row-11-4-">
        <td id="cell11-4-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2234"><code class="verb">bounded dynamic array</code></span>
        </td>
        <td id="cell11-4-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2235"><code class="verb">custom_class&lt;T, N&gt;</code></span>
        </td>
        <td id="cell11-4-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2236"><code class="verb">builtins.list*</code></span>
        </td>
        <td id="cell11-4-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2237"><code class="verb">sequence&lt;T,N&gt;</code></span>
        </td>
       </tr>
       <tr id="row-11-5-">
        <td id="cell11-5-1" style="text-align:justify;vertical-align:top;"> <span id="textcolor2238"><code class="verb">bounded string</code></span>
        </td>
        <td id="cell11-5-2" style="text-align:justify;vertical-align:top;"> <span id="textcolor2239"><code class="verb">std::string</code></span>
        </td>
        <td id="cell11-5-3" style="text-align:justify;vertical-align:top;"> <span id="textcolor2240"><code class="verb">builtins.str*</code></span>
        </td>
        <td id="cell11-5-4" style="text-align:justify;vertical-align:top;"> <span id="textcolor2241"><code class="verb">string</code></span>
        </td>
       </tr>
      </div>
     </table>
     <div class="warning">
      <p class="noindent">
       All types which are more permissive than their
       <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
        ROS
       </a>
       definition enforce the
       <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
        ROS
       </a>
       constraints in range and length by software.
      </p>
     </div>
     <p class="noindent">
      Example of message definition using arrays and bounded types:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb111" style="padding:20px;border-radius: 3px;"><a id="x8-93002r38"></a>int32[] unbounded_integer_array 
<a id="x8-93004r39"></a>int32[5] five_integers_array 
<a id="x8-93006r40"></a>int32[&lt;=5] up_to_five_integers_array 
<a id="x8-93008r41"></a> 
<a id="x8-93010r42"></a>string string_of_unbounded_size 
<a id="x8-93012r43"></a>string&lt;=10 up_to_ten_characters_string 
<a id="x8-93014r44"></a> 
<a id="x8-93016r45"></a>string[&lt;=5] up_to_five_unbounded_strings 
<a id="x8-93018r46"></a>string&lt;=10[] unbounded_array_of_strings_up_to_ten_characters_each 
<a id="x8-93020r47"></a>string&lt;=10[&lt;=5] up_to_five_strings_up_to_ten_characters_each</div></pre>
     </div>
     <a id="paragraph*.12">
     </a>
     <p class="noindent">
      <span class="paragraphHead">
       <a id="x8-94000">
       </a>
       Naming Conventions
      </span>
      There are some restrictions in how these variables are named and therefore are worth of mention. Field names
      <span id="bold" style="font-weight:bold;">
       must be
lowercase alphanumeric characters with underscores for separating words
      </span>
      . They must start with an alphabetic
character, and they must
      <span id="bold" style="font-weight:bold;">
       NOT
      </span>
      end with an underscore or have two <alert style="color: #821131;">(2)</alert> consecutive underscores.
      <a id="paragraph*.13">
      </a>
     </p>
     <p class="noindent">
      <span class="paragraphHead">
       <a id="x8-95000">
       </a>
       Default Values
      </span>
      Default
values
can
be
set
to
any
field
in
the
message
type.
Currently
default
values
are
      <span id="bold" style="font-weight:bold;">
       NOT
      </span>
      supported
for
string
arrays
and
complex
types.
      <alert style="color: #821131;">
       <span id="bold" style="font-weight:bold;">
        <sup class="textsuperscript">
         7
        </sup>
       </span>
      </alert>
      <span class="marginnote">
       <alert style="color: #821131;">
        <span id="bold" style="font-weight:bold;">
         <sup class="textsuperscript">
          7
         </sup>
        </span>
       </alert>
       <span id="textcolor2242">
        types
        <span id="bold" style="font-weight:bold;">
         NOT
        </span>
        present
in
the
built-in-types
which
applies
to
all
nested
messages.
       </span>
      </span>
     </p>
     <p class="noindent">
      Defining
a
default
value
is
done
by
adding
a
      <alert style="color: #821131;">
       third
      </alert>
      element
                                                                                
                                                                                
to
the
field
definition
line.
For
example:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb112" style="padding:20px;border-radius: 3px;"><a id="x8-95002r52"></a>fieldtype fieldname fielddefaultvalue</div></pre>
     </div>
     <p class="noindent">
      An
example
implementation
would
be:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb113" style="padding:20px;border-radius: 3px;"><a id="x8-95004r57"></a>uint8 x 42 
<a id="x8-95006r58"></a>int16 y -2000 
<a id="x8-95008r59"></a>string full_name "John Doe" 
<a id="x8-95010r60"></a>int32[] samples [-200, -100, 0, 100, 200]</div></pre>
     </div>
     <p class="noindent">
      For
example,
in
the
first
line
we
define
a
8-bit
unsigned
integer <span id="textcolor2243">(<code class="verb">uint8</code>)</span>,
call
it
      <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML">
       <mi>
        x
       </mi>
      </math>
      ,
and
give
it
a
default
value
of
42
.
     </p>
     <div class="warning">
      <p class="noindent">
       String values must be defined in <span id="textcolor2244"><code class="verb">'</code></span>
       or <span id="textcolor2245"><code class="verb">"</code></span>
       quotes and currently string values are
       <span id="bold" style="font-weight:bold;">
        NOT
       </span>
       escaped.
      </p>
     </div>
     <a id="paragraph*.14">
     </a>
     <p class="noindent">
      <span class="paragraphHead">
       <a id="x8-96000">
       </a>
       Constants
      </span>
      Each constant definition is like a field description with a
      <alert style="color: #821131;">
       default
      </alert>
      value, except that this
      <span id="bold" style="font-weight:bold;">
       value can never be changed
programmatically
      </span>
      . This value assignment is indicated by use of an equal <span id="textcolor2246">(<code class="verb">=</code>)</span> sign. The syntax is:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb114" style="padding:20px;border-radius: 3px;"><a id="x8-96002r65"></a>constanttype CONSTANTNAME=constantvalue</div></pre>
     </div>
     <p class="noindent">
      For example:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb115" style="padding:20px;border-radius: 3px;"><a id="x8-96004r70"></a>int32 X=123 
<a id="x8-96006r71"></a>int32 Y=-123 
<a id="x8-96008r72"></a>string FOO="foo" 
<a id="x8-96010r73"></a>string EXAMPLE='bar'</div></pre>
     </div>
     <div class="warning">
      <p class="noindent">
       Constants names have to be
       <span id="bold" style="font-weight:bold;">
        UPPERCASE
       </span>
       .
      </p>
     </div>
     <a id="subsubsection*.15">
     </a>
     <h5 class="subsubsectionHead">
      <a id="x8-97000">
      </a>
      Services
     </h5>
     <p class="noindent">
      Services are a request/response communication, where the client (requester) is waiting for the server (responder) to make a short
computation and return a result. Services are described and defined in <span id="textcolor2247"><code class="verb">.srv</code></span>
      files in the <span id="textcolor2248"><code class="verb">srv</code></span>
      directory of a
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      package.
     </p>
     <p class="noindent">
      A service description file consists of a request and a response msg type, separated by <span id="textcolor2249"><code class="verb">---</code></span>. Any two <span id="textcolor2250"><code class="verb">.msg</code></span>
      files concatenated with a <span id="textcolor2251"><code class="verb">---</code></span>
      are a legal service description. Here is a very simple example of a service that takes in a string and returns a
string:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb116" style="padding:20px;border-radius: 3px;"><a id="x8-97002r135"></a>uint32 request 
<a id="x8-97004r136"></a>--- 
<a id="x8-97006r137"></a>uint32 response</div></pre>
     </div>
     <p class="noindent">
      We
can
of
course
get
much
more
complicated:
      <alert style="color: #821131;">
       <span id="bold" style="font-weight:bold;">
        <sup class="textsuperscript">
         8
        </sup>
       </span>
      </alert>
      <span class="marginnote">
       <alert style="color: #821131;">
        <span id="bold" style="font-weight:bold;">
         <sup class="textsuperscript">
          8
         </sup>
        </span>
       </alert>
       <span id="textcolor2252">
        if
we
want
to
refer
to
a
message
from
the
same
package
we
must
        <span id="bold" style="font-weight:bold;">
         NOT
        </span>
        mention
the
package
name.
       </span>
      </span>
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb117" style="padding:20px;border-radius: 3px;"><a id="x8-97008r142"></a>uint32 a 
<a id="x8-97010r143"></a>uint32 b 
<a id="x8-97012r144"></a>--- 
<a id="x8-97014r145"></a>uint32 sum</div></pre>
     </div>
     <div class="warning">
      <p class="noindent">
       We cannot embed another service inside of a service.
      </p>
     </div>
     <a id="subsubsection*.16">
     </a>
     <h5 class="subsubsectionHead">
      <a id="x8-98000">
      </a>
      Actions
     </h5>
     <p class="noindent">
      Actions
are
a
long-running
request/response
communication,
where
the
action
client
<alert style="color: #821131;">(requester)</alert>
is
waiting
for
                                                                                
                                                                                
                                                                              
the
action
server
(
      <alert style="color: #821131;">
       the
responder
      </alert>
      )
to
take
some
action
and
return
a
result.
In
contrast
to
services,
actions
can
be
long-running,
      <alert style="color: #821131;">
       <span id="bold" style="font-weight:bold;">
        <sup class="textsuperscript">
         9
        </sup>
       </span>
      </alert>
      <span class="marginnote">
       <alert style="color: #821131;">
        <span id="bold" style="font-weight:bold;">
         <sup class="textsuperscript">
          9
         </sup>
        </span>
       </alert>
       <span id="textcolor2253">
        This
could
be
many
seconds
up
to
minutes.
       </span>
      </span>
      provide
feedback
while
they
are
happening,
and
can
be
interrupted.
     </p>
     <p class="noindent">
      Action
definitions
have
the
following
form:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb118" style="padding:20px;border-radius: 3px;"><a id="x8-98002r106"></a>&lt;request_type&gt; &lt;request_fieldname&gt; 
<a id="x8-98004r107"></a>--- 
<a id="x8-98006r108"></a>&lt;response_type&gt; &lt;response_fieldname&gt; 
<a id="x8-98008r109"></a>--- 
<a id="x8-98010r110"></a>&lt;feedback_type&gt; &lt;feedback_fieldname&gt;</div></pre>
     </div>
     <p class="noindent">
      Similar
to
services,
the
request
fields
are
before
and
the
response
fields
are
after
the
first
triple-dash <span id="textcolor2254">(<code class="verb">---</code>)</span>,
respectively.
There
is
also
a
third
set
of
fields
after
the
second
triple-dash,
which
is
the
fields
to
be
sent
when
sending
feedback.
There
can
be:
     </p>
     <ul class="itemize1">
      <li class="itemize">
       <p class="noindent">
        arbitrary
numbers
of
request
fields
(including
zero),
       </p>
      </li>
      <li class="itemize">
       <p class="noindent">
        arbitrary
numbers
of
response
fields
(including
zero),
and
       </p>
      </li>
      <li class="itemize">
       <p class="noindent">
        arbitrary
numbers
of
feedback
fields
(including
zero).
       </p>
      </li>
     </ul>
     <div class="knowledge">
      <p class="noindent">
       The <span id="textcolor2258"><code class="verb">&lt;request_type&gt;</code></span>, <span id="textcolor2259"><code class="verb">&lt;response_type&gt;</code></span>,
and <span id="textcolor2260"><code class="verb">&lt;feedback_type&gt;</code></span>
       follow
all
of
the
same
rules
as
the <span id="textcolor2261"><code class="verb">&lt;type&gt;</code></span>
       for
a
message.
      </p>
     </div>
     <div class="knowledge">
      <p class="noindent">
       The <span id="textcolor2262"><code class="verb">&lt;request_fieldname&gt;</code></span>, <span id="textcolor2263"><code class="verb">&lt;response_fieldname&gt;</code></span>,
and <span id="textcolor2264"><code class="verb">&lt;feedback_fieldname&gt;</code></span>
       follow
all
of
the
same
rules
as
the <span id="textcolor2265"><code class="verb">&lt;fieldname&gt;</code></span>
       for
a
message.
      </p>
     </div>
     <p class="noindent">
      As
an
example,
the
      <alert style="color: #821131;">
       Fibonacci
      </alert>
      action
definition
contains
the
following:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb119" style="padding:20px;border-radius: 3px;"><a id="x8-98012r115"></a>int32 order 
<a id="x8-98014r116"></a>--- 
<a id="x8-98016r117"></a>int32[] sequence 
<a id="x8-98018r118"></a>--- 
<a id="x8-98020r119"></a>int32[] sequence</div></pre>
     </div>
     <p class="noindent">
      This
is
an
action
definition
where
the
action
client
is
sending
a
single <span id="textcolor2266"><code class="verb">int32</code></span>
      field
representing
the
                                                                                
                                                                                
                                                                           
number
of
Fibonacci
steps
to
take,
and
expecting
the
action
server
to
produce
an
array
of <span id="textcolor2267"><code class="verb">int32</code></span>
      containing
the
complete
steps.
Along
the
way,
the
action
server
may
also
provide
an
intermediate
array
of <span id="textcolor2268"><code class="verb">int32</code></span>
      contains
the
steps
accomplished
up
until
a
certain
point.
     </p>
     <p class="noindent">
     </p>
    </div>
    <div class="section-head" id="section-6" sec="section-6">
     <h2 class="sectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#section.6.6" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.6
      </small>
      <a id="x8-990006.6">
      </a>
      Topics
     </h2>
     <p class="noindent">
      Topics
are
one
of
the
three
<alert style="color: #821131;">(3)</alert> primary
styles
of
interfaces
provided
by
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>.
Topics
      <span id="bold" style="font-weight:bold;">
       should
be
used
for
continuous
data
streams
      </span>
      ,
like
sensor
data,
robot
state,
etc.
As
stated
earlier,
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      is
a
      <alert style="color: #821131;">
       strongly-typed
      </alert>
      ,
      <alert style="color: #821131;">
       anonymous
      </alert>
      publish/subscribe
system.
Let’s
break
down
that
sentence
and
explain
it
a
bit
more.
     </p>
     <h3 class="subsectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#subsection.6.6.1" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.6.1
      </small>
      <a id="x8-1000006.6.1">
      </a>
      Publisher
-
Subscriber
Architecture
     </h3>
     <p class="noindent">
      A
publish/subscribe
                                                                                
                                                                                
                                                                           
system
is
one
in
which
there
are:
     </p>
     <dl class="enumerate-enumitem">
      <dt class="enumerate-enumitem">
       1.
      </dt>
      <dd class="enumerate-enumitem">
       producers
of
data
(publishers),
      </dd>
      <dt class="enumerate-enumitem">
       2.
      </dt>
      <dd class="enumerate-enumitem">
       consumers
of
data
(subscribers).
      </dd>
     </dl>
     <p class="noindent">
      The
publishers
and
subscribers
know
how
to
contact
each
other
through
the
concept
of
a
      <alert style="color: #821131;">
       topic
      </alert>
      ,
which
is
a
common
name
so
that
the
entities
can
find
each
other.
     </p>
     <div class="knowledge">
      <p class="noindent">
       When
we
create
a
publisher,
we
must
also
give
it
a
string
                                                                                
                                                                                
                                                                            
which
is
the
name
of
the
topic
and
the
same
goes
for
the
subscriber.
      </p>
     </div>
     <p class="noindent">
      Any
publishers
and
subscribers
that
are
on
the
same
topic
name
can
      <alert style="color: #821131;">
       directly
communicate
with
each
other
      </alert>
      .
There
may
be
zero
or
more
publishers
and
zero
or
more
subscribers
on
any
particular
topic.
When
data
is
published
to
the
topic
by
any
of
the
publishers,
all
subscribers
in
the
system
will
receive
                                                                                
                                                                                
                                                                              
the
data.
     </p>
     <p class="noindent">
      This
system
is
also
known
as
a
      <alert style="color: #821131;">
       bus
      </alert>
      as
it
resembles
a
bus
bar
from
used
in
power
engineering.
This
concept
of
a
bus
is
part
of
what
makes
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      a
powerful
and
flexible
system.
Publishers
and
subscribers
can
come
and
go
as
needed,
meaning
that
debugging
and
introspection
are
natural
extensions
to
the
system.
     </p>
     <p class="noindent">
      As
an
example,
if
we
want
to
record
data,
we
                                                                                
                                                                                
                                                                             
can
use
the <span id="textcolor2269"><code class="verb">ros2 bag record</code></span>
      command.
Under
the
hood, <span id="textcolor2270"><code class="verb">ros2 bag record</code></span>
      creates
a
new
subscriber
to
whatever
topic
we
tell
it,
without
interrupting
the
flow
of
data
to
the
other
parts
of
the
system.
     </p>
     <h3 class="subsectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#subsection.6.6.2" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.6.2
      </small>
      <a id="x8-1010006.6.2">
      </a>
      Anonymity
     </h3>
     <p class="noindent">
      Another
fact
mentioned
in
the
introduction
is
that
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      is
      <alert style="color: #821131;">
       anonymous
      </alert>
      .
This
means
that
when
a
subscriber
gets
a
piece
of
data,
it
doesn’t
generally
know
or
care
                                                                                
                                                                                
which
publisher
originally
sent
it.
      <alert style="color: #821131;">
       <span id="bold" style="font-weight:bold;">
        <sup class="textsuperscript">
         10
        </sup>
       </span>
      </alert>
      <span class="marginnote">
       <alert style="color: #821131;">
        <span id="bold" style="font-weight:bold;">
         <sup class="textsuperscript">
          10
         </sup>
        </span>
       </alert>
       <span id="textcolor2271">
        If
needed
though,
it
can
find
out.
       </span>
      </span>
      The
benefit
to
this
architecture
is
that
publishers
and
subscribers
can
be
swapped
out
at
will
without
affecting
the
rest
of
the
system.
     </p>
     <h3 class="subsectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#subsection.6.6.3" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.6.3
      </small>
      <a id="x8-1020006.6.3">
      </a>
      Strongly-Typed
     </h3>
     <p class="noindent">
      As a last point, the publish/subscribe system is
      <span id="bold" style="font-weight:bold;">
       strongly-typed
      </span>
      . That has two <alert style="color: #821131;">(2)</alert> meanings in this context:
     </p>
     <ul class="itemize1">
      <li class="itemize">
       <p class="noindent">
        The
types
of
each
field
in
a
        <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
         ROS
        </a>
        message
are
typed,
and
that
type
is
        <alert style="color: #821131;">
         enforced
        </alert>
        at
various
levels.
For
                                                                                
                                                                                
     
instance,
if
the
        <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
         ROS
        </a>
        message
contains:
       </p>
       <p class="noindent">
       </p>
       <div class="code-block">
        <div class="code-lang">
         text
        </div>
        <pre><div class="language-text" id="fancyvrb120" style="padding:20px;border-radius: 3px;"><a id="x8-102002r127"></a>uint32 field1 
<a id="x8-102004r128"></a>string field2</div></pre>
       </div>
      </li>
      <li class="itemize">
       <p class="noindent">
        Then
the
code
will
ensure
the <span id="textcolor2274"><code class="verb">field1</code></span>
        is
always
an
        <alert style="color: #821131;">
         unsigned
integer
        </alert>
        and <span id="textcolor2275"><code class="verb">field2</code></span>
        is
always
a
        <alert style="color: #821131;">
         string
        </alert>
        .
       </p>
      </li>
      <li class="itemize">
       <p class="noindent">
        The semantics of each field are
        <alert style="color: #821131;">
         well-defined
        </alert>
        .
       </p>
       <ul class="itemize2">
        <li class="itemize">
         <p class="noindent">
          There
is
no
automated
mechanism
to
ensure
this,
but
all
of
the
core
          <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
           ROS
          </a>
          types
have
strong
semantics
associated
with
them.
         </p>
        </li>
        <li class="itemize">
         <p class="noindent">
          For
instance,
the
IMU
message
contains
a
3-dimensional
vector
for
the
measured
angular
velocity,
and
each
of
the
dimensions
is
specified
to
be
in
radians/second.
Other
interpretations
should
          <span id="bold" style="font-weight:bold;">
           NOT
          </span>
          be
placed
into
the
message.
         </p>
        </li>
       </ul>
      </li>
     </ul>
     <p class="noindent">
     </p>
    </div>
    <div class="section-head" id="section-7" sec="section-7">
     <h2 class="sectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#section.6.7" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.7
      </small>
      <a id="x8-1030006.7">
      </a>
      Services
     </h2>
     <p class="noindent">
      In
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>, a service refers to a remote procedure call. In other words,
     </p>
     <div class="quoteblock">
      <p class="noindent">
       a
node
can
make
a
remote
procedure
call
to
another
node
which
will
do
a
computation
and
return
a
result.
      </p>
     </div>
     <p class="noindent">
      This structure is reflected in how a service message definition looks:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb121" style="padding:20px;border-radius: 3px;"><a id="x8-103002r135"></a>uint32 request 
<a id="x8-103004r136"></a>--- 
<a id="x8-103006r137"></a>uint32 response</div></pre>
     </div>
     <p class="noindent">
      In
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>, services are expected to return quickly, as the client is generally waiting on the result.
      <alert style="color: #821131;">
       Services should never be used
for longer running processes
      </alert>
      , in particular processes that might need to be pre-empted for exceptional situations.
     </p>
     <div class="knowledge">
      <p class="noindent">
       If we have a service that will be doing a long-running computation, consider using an
       <span id="bold" style="font-weight:bold;">
        action
       </span>
       .
      </p>
     </div>
     <p class="noindent">
      Services
are
identified
by
a
service
name,
which
looks
much
like
a
topic
name.
      <alert style="color: #821131;">
       <span id="bold" style="font-weight:bold;">
        <sup class="textsuperscript">
         11
        </sup>
       </span>
      </alert>
      <span class="marginnote">
       <alert style="color: #821131;">
        <span id="bold" style="font-weight:bold;">
         <sup class="textsuperscript">
          11
         </sup>
        </span>
       </alert>
       <span id="textcolor2277">
        but
is
in
a
different
namespace.
       </span>
      </span>
      A
service
                                                                                
                                                                                
                                                                           
consists
of
two
<alert style="color: #821131;">(2)</alert> parts:
     </p>
     <ul class="itemize1">
      <li class="itemize">
       <p class="noindent">
        the
service
server,
       </p>
      </li>
      <li class="itemize">
       <p class="noindent">
        the
service
client.
       </p>
      </li>
     </ul>
     <h3 class="subsectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#subsection.6.7.1" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.7.1
      </small>
      <a id="x8-1040006.7.1">
      </a>
      Service
Server
     </h3>
     <p class="noindent">
      A
service
server
is
the
entity
that
will
accept
a
remote
procedure
request,
and
perform
some
computation
on
it.
For
instance,
suppose
the
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      message
contains
the
following:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb122" style="padding:20px;border-radius: 3px;"><a id="x8-104002r142"></a>uint32 a 
<a id="x8-104004r143"></a>uint32 b 
<a id="x8-104006r144"></a>--- 
<a id="x8-104008r145"></a>uint32 sum</div></pre>
     </div>
     <p class="noindent">
      The
service
server
would
be
the
entity
                                                                                
                                                                                
                                                                             
that
receives
this
message,
adds <span id="textcolor2280"><code class="verb">a</code></span>
      and <span id="textcolor2281"><code class="verb">b</code></span>
      together,
and
returns
the <span id="textcolor2282"><code class="verb">sum</code></span>.
     </p>
     <div class="warning">
      <p class="noindent">
       There
should
only
ever
be
one
<alert style="color: #821131;">(1)</alert> service
server
per
service
name.
It
is
undefined
which
service
server
will
receive
client
requests
in
the
case
of
multiple
service
servers
on
the
same
service
name.
      </p>
     </div>
     <a id="subsubsection*.17">
     </a>
     <h5 class="subsubsectionHead">
      <a id="x8-105000">
      </a>
      Service
Client
     </h5>
     <p class="noindent">
      A
service
client
is
an
entity
that
will
request
a
                                                                                
                                                                                
                                                                           
remote
service
server
to
perform
a
computation
on
its
behalf.
Following
the
previous
example,
the
service
client
is
the
entity
that
creates
the
initial
message
containing <span id="textcolor2283"><code class="verb">a</code></span>
      and <span id="textcolor2284"><code class="verb">b</code></span>,
and
waits
for
the
service
server
to
compute
the <span id="textcolor2285"><code class="verb">sum</code></span>
      and
return
the
result.
     </p>
     <div class="warning">
      <p class="noindent">
       Unlike
service
server,
there
can
be
a
number
of
service
clients
using
the
same
service
name.
      </p>
     </div>
     <p class="noindent">
     </p>
    </div>
    <div class="section-head" id="section-8" sec="section-8">
     <h2 class="sectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#section.6.8" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.8
      </small>
      <a id="x8-1060006.8">
      </a>
      Actions
     </h2>
     <p class="noindent">
      In
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>,
an
action
refers
to
a
      <alert style="color: #821131;">
       long-running
remote
procedure
call
with
feedback
      </alert>
      and
the
ability
to
cancel
or
pre-empt
the
goal.
As
an
example,
the
high-level
state
machine
running
a
robot
may
call
an
action
to
tell
the
navigation
subsystem
to
travel
to
a
way
point,
which
may
take
several
seconds,
or
even
minutes
to
do.
Along
the
                                                                                
                                                                                
                                                                             
way,
the
navigation
subsystem
can
provide
feedback
on
how
far
along
it
is,
and
the
high-level
state
machine
has
the
option
to
cancel
or
preempt
the
travel
to
that
way
point.
     </p>
     <p class="noindent">
      This
structure
is
reflected
in
how
an
action
message
definition
looks:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb123" style="padding:20px;border-radius: 3px;"><a id="x8-106002r106"></a>&lt;request_type&gt; &lt;request_fieldname&gt; 
<a id="x8-106004r107"></a>--- 
<a id="x8-106006r108"></a>&lt;response_type&gt; &lt;response_fieldname&gt; 
<a id="x8-106008r109"></a>--- 
<a id="x8-106010r110"></a>&lt;feedback_type&gt; &lt;feedback_fieldname&gt;</div></pre>
     </div>
     <p class="noindent">
      In
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>,
actions
are
expected
to
be
long
running
procedures,
as
there
is
overhead
in
setting
up
and
monitoring
the
connection.
     </p>
     <div class="knowledge">
      <p class="noindent">
       If
we
need
a
short
running
remote
procedure
call,
consider
using
a
service
instead.
      </p>
     </div>
     <p class="noindent">
      Actions
are
identified
by
an <span id="textcolor2286"><code class="verb">action name</code></span>,
which
looks
much
like
a
topic
name
(but
is
in
a
different
namespace)
and
consists
of
two
parts:
     </p>
     <dl class="enumerate-enumitem">
      <dt class="enumerate-enumitem">
       1.
      </dt>
      <dd class="enumerate-enumitem">
       the
action
server,
      </dd>
      <dt class="enumerate-enumitem">
       2.
      </dt>
      <dd class="enumerate-enumitem">
       the
action
client.
      </dd>
     </dl>
     <h3 class="subsectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#subsection.6.8.1" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.8.1
      </small>
      <a id="x8-1070006.8.1">
      </a>
      Action
Server
     </h3>
     <p class="noindent">
      The
action
server
is
                                                                                
                                                                                
                                                                              
the
entity
that
will
accept
the
remote
procedure
request
and
perform
some
procedure
on
it.
It
is
also
responsible
for
sending
out
feedback
as
the
action
progresses
and
should
react
to
cancellation/preemption
requests.
     </p>
     <p class="noindent">
      For
instance,
consider
an
action
to
calculate
the
Fibonacci
sequence
with
the
following
interface
we
looked
at
previously:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       text
      </div>
      <pre><div class="language-text" id="fancyvrb124" style="padding:20px;border-radius: 3px;"><a id="x8-107002r115"></a>int32 order 
<a id="x8-107004r116"></a>--- 
<a id="x8-107006r117"></a>int32[] sequence 
<a id="x8-107008r118"></a>--- 
<a id="x8-107010r119"></a>int32[] sequence</div></pre>
     </div>
     <p class="noindent">
      The
action
server
is
the
entity
that
receives
this
message,
starts
calculating
                                                                                
                                                                                
                                                                              
the
sequence
up
to
order
(providing
feedback
along
the
way),
and
finally
returns
a
full
result
in
sequence.
     </p>
     <div class="warning">
      <p class="noindent">
       There
should
only
ever
be
one
action
server
per
action
name.
It
is
undefined
which
action
server
will
receive
client
requests
in
the
case
of
multiple
action
servers
on
the
same
action
name.
      </p>
     </div>
     <h3 class="subsectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#subsection.6.8.2" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.8.2
      </small>
      <a id="x8-1080006.8.2">
      </a>
      Action
Client
     </h3>
     <p class="noindent">
      An
action
client
is
an
                                                                                
                                                                                
                                                                            
entity
that
will
      <span id="bold" style="font-weight:bold;">
       request
      </span>
      a
remote
action
server
to
perform
a
procedure
on
its
behalf.
Following
the
previous
example,
the
action
client
is
the
entity
that
creates
the
initial
message
containing
the
order,
and
waits
for
the
action
server
to
compute
the
sequence
and
return
it
(with
feedback
along
the
way).
     </p>
     <div class="knowledge">
      <p class="noindent">
       Unlike
action
server,
there
can
be
a
number
of
action
clients
using
the
                                                                                
                                                                                
                                                                            
same
action
name.
      </p>
     </div>
     <p class="noindent">
     </p>
    </div>
    <div class="section-head" id="section-9" sec="section-9">
     <h2 class="sectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#section.6.9" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.9
      </small>
      <a id="x8-1090006.9">
      </a>
      Parameters
     </h2>
     <p class="noindent">
      Parameters
in
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      are
associated
with
      <alert style="color: #821131;">
       individual
nodes
      </alert>
      .
Parameters
are
used
to
configure
nodes
at
startup,
and
during
runtime
      <alert style="color: #821131;">
       without
changing
the
code
      </alert>
      .
The
lifetime
of
a
parameter
is
tied
to
the
lifetime
of
the
node.
      <alert style="color: #821131;">
       <span id="bold" style="font-weight:bold;">
        <sup class="textsuperscript">
         12
        </sup>
       </span>
      </alert>
      <span class="marginnote">
       <alert style="color: #821131;">
        <span id="bold" style="font-weight:bold;">
         <sup class="textsuperscript">
          12
         </sup>
        </span>
       </alert>
       <span id="textcolor2287">
        though
the
node
could
implement
some
sort
of
persistence
to
reload
values
after
restart.
       </span>
      </span>
      Parameters
are
addressed
by
      <span id="bold" style="font-weight:bold;">
       node
name
      </span>
      ,
      <span id="bold" style="font-weight:bold;">
       node
namespace
      </span>
      ,
      <span id="bold" style="font-weight:bold;">
       parameter
name
      </span>
      ,
and
      <span id="bold" style="font-weight:bold;">
       parameter
namespace
      </span>
      .
     </p>
     <div class="knowledge">
      <p class="noindent">
       Providing  a  parameter  namespace  is  optional.
      </p>
     </div>
     <p class="noindent">
      Each parameter consists of a
      <span id="bold" style="font-weight:bold;">
       key
      </span>
      , a
      <span id="bold" style="font-weight:bold;">
       value
      </span>
      , and a
      <span id="bold" style="font-weight:bold;">
       descriptor
      </span>
      . The key is a string and the value is one of the following types:
     </p>
     <div class="quoteblock">
      <p class="noindent"> <span id="textcolor2288"><code class="verb">bool</code></span>, <span id="textcolor2289"><code class="verb">int64</code></span>, <span id="textcolor2290"><code class="verb">float64</code></span>, <span id="textcolor2291"><code class="verb">string</code></span>, <span id="textcolor2292"><code class="verb">byte[]</code></span>, <span id="textcolor2293"><code class="verb">bool[]</code></span>, <span id="textcolor2294"><code class="verb">int64[]</code></span>, <span id="textcolor2295"><code class="verb">float64[]</code></span>
       or <span id="textcolor2296"><code class="verb">string[]</code></span>.
      </p>
     </div>
     <p class="noindent">
      By default all descriptors are empty, but can contain parameter descriptions, value ranges, type information, and additional constraints.
     </p>
     <h3 class="subsectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#subsection.6.9.1" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.9.1
      </small>
      <a id="x8-1100006.9.1">
      </a>
      A  Detailed  Look
     </h3>
     <a id="subsubsection*.18">
     </a>
     <h5 class="subsubsectionHead">
      <a id="x8-111000">
      </a>
      Declaring  Parameters
     </h5>
     <p class="noindent">
      By default, a node needs to declare all of the parameters that it will accept during its lifetime.
     </p>
     <div class="knowledge">
      <p class="noindent">
       We do this so the type and name of the parameters are well-defined at node startup time, which reduces the chances of misconfiguration later on.
      </p>
     </div>
     <p class="noindent">
      For some types of nodes,
      <alert style="color: #821131;">
       not all of the parameters will be known ahead of time
      </alert>
      . In these cases, the node can be instantiated with <span id="textcolor2297"><code class="verb">allow_undeclared_parameters</code></span>
      set to <span id="textcolor2298"><code class="verb">true</code></span>, which will allow parameters to be get and set on the node even if they haven’t been declared.
      <a id="subsubsection*.19">
      </a>
     </p>
     <h5 class="subsubsectionHead">
      <a id="x8-112000">
      </a>
      Types  of  Parameters
     </h5>
     <p class="noindent">
      Each parameter on a
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      node has one of the pre-defined parameter types as mentioned.
     </p>
     <div class="warning">
      <p class="noindent">
       By default, any attempts to change the type of a declared parameter at runtime
       <span id="bold" style="font-weight:bold;">
        will fail
       </span>
       .
This prevents common mistakes, such as putting a boolean value into an integer parameter.
      </p>
     </div>
     <p class="noindent">
      If a parameter needs to be multiple different types, and the code using the parameter can handle it, this default behaviour can be changed.
When the parameter is declared, it should be declared using a <span id="textcolor2299"><code class="verb">ParameterDescriptor</code></span>
      with the <span id="textcolor2300"><code class="verb">dynamic_typing</code></span>
      member variable set to <span id="textcolor2301"><code class="verb">true</code></span>.
      <a id="subsubsection*.20">
      </a>
     </p>
     <h5 class="subsubsectionHead">
      <a id="x8-113000">
      </a>
      Parameter  Callbacks
     </h5>
     <p class="noindent">
      A
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      node can register two <alert style="color: #821131;">(2)</alert> different types of callbacks to be informed when changes are happening to parameters. Both of the callbacks are
      <span id="bold" style="font-weight:bold;">
       optional
      </span>
      .
     </p>
     <dl class="enumerate-enumitem">
      <dt class="enumerate-enumitem">
       1.
      </dt>
      <dd class="enumerate-enumitem">
       The first is known as a
       <span id="bold" style="font-weight:bold;">
        set parameter
       </span>
       callback, and can be set by calling from the node
       <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:api">
        Application Programming
Interface (API)
       </a>,
       <alert style="color: #821131;">
        <span id="bold" style="font-weight:bold;">
         <sup class="textsuperscript">
          13
         </sup>
        </span>
       </alert>
       <span class="marginnote">
        <alert style="color: #821131;">
         <span id="bold" style="font-weight:bold;">
          <sup class="textsuperscript">
           13
          </sup>
         </span>
        </alert>
        <span id="textcolor2302">
         A way for two or more computer programs or components to communicate with each other. It is a
type of software interface, offering a service to other pieces of software.
        </span>
       </span> <span id="textcolor2303"><code class="verb">add_on_set_parameters_callback</code></span>. The callback is
passed a list of immutable <span id="textcolor2304"><code class="verb">Parameter</code></span>
       objects, and returns an <span id="textcolor2305"><code class="verb">rcl\_interfaces/msg/SetParametersResult</code></span>.
       <div class="knowledge">
        <p class="noindent">
         The primary purpose of
         <span id="bold" style="font-weight:bold;">
          set parameter
         </span>
         callback is to give the user the ability to inspect the upcoming change to the
parameter and explicitly reject the change.
        </p>
       </div>
       <div class="warning">
        <p class="noindent">
         It is important to make sure that
         <span id="bold" style="font-weight:bold;">
          set parameter
         </span>
         callbacks have no side-effects. Since multiple set parameter callbacks
can be chained, there is no way for an individual callback to know if a later callback will reject the update. If the
individual callback were to make changes to the class it is in, for instance, it may get out-of-sync with the actual
parameter. To get a callback after a parameter has been successfully changed, we may need to look into the lower option.
        </p>
       </div>
      </dd>
      <dt class="enumerate-enumitem">
       2.
      </dt>
      <dd class="enumerate-enumitem">
       The second type of callback is known as an
       <span id="bold" style="font-weight:bold;">
        on parameter event
       </span>
       callback, and can be set by calling <span id="textcolor2306"><code class="verb">on_parameter_event</code></span>
       from the parameter client
       <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:api">
        API
       </a>
       s. The callback is passed an <span id="textcolor2307"><code class="verb">rcl\_interfaces/msg/ParameterEvent</code></span>
       object, and returns
nothing. This callback will be called after all parameters in the input event have been declared, changed, or deleted.
       <div class="knowledge">
        <p class="noindent">
         The primary purpose of
         <span id="bold" style="font-weight:bold;">
          on parameter event
         </span>
         callback is to give the user the ability to react to changes from parameters
that have successfully been accepted.
        </p>
       </div>
      </dd>
     </dl>
     <h3 class="subsectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#subsection.6.9.2" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.9.2
      </small>
      <a id="x8-1140006.9.2">
      </a>
      Parameter  Interaction
     </h3>
     <p class="noindent">
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      2 nodes can perform parameter operations through node
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:api">
       API
      </a>
      s. External processes can perform
parameter operations via parameter services that are created by default when a node is instantiated.
     </p>
     <p class="noindent">
      The  services  that  are  created  by  default  are:
     </p>
     <dl class="description">
      <dt class="description">
      </dt>
      <dd class="description">
       <p class="noindent"> <span id="textcolor2308"><code class="verb">node\_name/describe\_parameters</code></span>
        :
Uses
service
type <span id="textcolor2309"><code class="verb">rcl\_interfaces/srv/DescribeParameters</code></span>.
Given
a
list
of
parameter
names,
returns
a
list
of
descriptors
associated
with
the
parameters.
       </p>
      </dd>
      <dt class="description">
      </dt>
      <dd class="description">
       <p class="noindent"> <span id="textcolor2310"><code class="verb">node\_name/get\_parameter\_types</code></span>
        :
Uses
service
type <span id="textcolor2311"><code class="verb">rcl\_interfaces/srv/GetParameterTypes</code></span>.
Given
a
list
of
parameter
names,
returns
a
                                                                                
                                                                                
     
list
of
parameter
types
associated
with
the
parameters.
       </p>
      </dd>
      <dt class="description">
      </dt>
      <dd class="description">
       <p class="noindent"> <span id="textcolor2312"><code class="verb">node\_name/get\_parameters</code></span>
        :
Uses
service
type <span id="textcolor2313"><code class="verb">rcl\_interfaces/srv/GetParameters</code></span>.
Given
a
list
of
parameter
names,
returns
a
list
of
parameter
values
associated
with
the
parameters.
       </p>
      </dd>
      <dt class="description">
      </dt>
      <dd class="description">
       <p class="noindent"> <span id="textcolor2314"><code class="verb">node\_name/list\_parameters</code></span>
        :
Uses
service
type <span id="textcolor2315"><code class="verb">rcl\_interfaces/srv/ListParameters</code></span>.
Given
an
optional
list
of
parameter
prefixes,
returns
a
list
of
the
available
parameters
with
that
prefix.
If
the
prefixes
are
empty,
returns
all
parameters.
       </p>
      </dd>
      <dt class="description">
      </dt>
      <dd class="description">
       <p class="noindent"> <span id="textcolor2316"><code class="verb">node\_name/set\_parameters</code></span>
        :
Uses
service
type <span id="textcolor2317"><code class="verb">rcl\_interfaces/srv/SetParameters</code></span>.
Given
a
list
of
parameter
names
and
values,
attempts
to
set
the
parameters
on
the
node.
Returns
a
list
of
results
from
trying
to
set
each
parameter;
some
of
them
may
have
succeeded
and
some
may
have
failed.
       </p>
      </dd>
      <dt class="description">
      </dt>
      <dd class="description">
       <p class="noindent"> <span id="textcolor2318"><code class="verb">node\_name/set\_parameters\_atomically</code></span>
        :
Uses
service
type <span id="textcolor2319"><code class="verb">rcl\_interfaces/srv/SetParametersAtomically</code></span>.
Given
a
list
of
parameter
names
and
values,
attempts
to
set
                                                                                
                                                                                
     
the
parameters
on
the
node.
Returns
a
single
result
from
trying
to
set
all
parameters,
so
if
one
failed,
all
of
them
failed.
       </p>
      </dd>
     </dl>
     <p class="noindent">
      Some additional information regarding parameters are as follows:
      <a id="paragraph*.21">
      </a>
     </p>
     <p class="noindent">
      <span class="paragraphHead">
       <a id="x8-115000">
       </a>
       Setting Initial Parameters Values when a Node is Running
      </span>
      Initial parameter values can be set when running the node either through individual command-line arguments, or through YAML files.
     </p>
     <div class="informationblock" id="tcolobox-56">
      <div class="title">
       <p class="noindent">
        <span id="bold" style="font-weight:bold;">
         Information
        </span>
        : The <span id="textcolor2321"><code class="verb">.yaml</code></span>
        Format
       </p>
      </div>
      <div class="box-content">
       <p class="noindent">
        A human-readable data serialization language. It is commonly used for configuration files and in applications
where data is being stored or transmitted. Stands for
        <italic>
         YAML Ain’t Markup Language
        </italic>
        .
       </p>
      </div>
     </div>
     <a id="paragraph*.22">
     </a>
     <p class="noindent">
      <span class="paragraphHead">
       <a id="x8-116000">
       </a>
       Setting Initial Parameters Values when a Node is Launching
      </span>
      Initial parameter values can also be set when running the node through the ROS 2 launch facility.
      <a id="paragraph*.23">
      </a>
     </p>
     <p class="noindent">
      <span class="paragraphHead">
       <a id="x8-117000">
       </a>
       Manipulating  parameter  values  at  runtime
      </span>
      The <span id="textcolor2322"><code class="verb">ros2 param</code></span>
      command is the general way to interact with parameters for nodes that are already
running. <span id="textcolor2323"><code class="verb">ros2 param</code></span>
      uses the parameter service
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:api">
       API
      </a>
      as described above to perform the various operations.
     </p>
     <p class="noindent">
     </p>
    </div>
    <div class="section-head" id="section-10" sec="section-10">
     <h2 class="sectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#section.6.10" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.10
      </small>
      <a id="x8-1180006.10">
      </a>
      Working  with  Command  Line
     </h2>
     <p class="noindent">
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      2 includes a suite of command-line tools for introspecting a
      <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
       ROS
      </a>
      2 system.
     </p>
     <p class="noindent">
      The main entry point for the tools is the command <span id="textcolor2324"><code class="verb">ros2</code></span>, which itself has various
sub-commands for introspecting and working with nodes, topics, services, and more.
     </p>
     <p class="noindent">
      To  see  all  available  sub-commands  run:
     </p>
     <p class="noindent">
     </p>
     <div class="code-block">
      <div class="code-lang">
       bash
      </div>
      <pre><div class="language-bash" id="fancyvrb125" style="padding:20px;border-radius: 3px;"><a id="x8-118002r189"></a>ros2<span id="textcolor2325"> </span>--help</div></pre>
     </div>
     <div class="tcolorbox tcolorbox" id="tcolobox-57">
      <div class="tcolorbox-content">
       <div class="code-block">
        <div class="code-lang">
         text
        </div>
        <pre><div class="language-text" id="fancyvrb126" style="padding:20px;border-radius: 3px;"><a id="x8-118004r1"></a>usage: ros2 [-h] [--use-python-default-buffering] Call `ros2 &lt;command&gt; -h` for more detailed usage. ... 
<a id="x8-118006r2"></a> 
<a id="x8-118008r3"></a>ros2 is an extensible command-line tool for ROS 2. 
<a id="x8-118010r4"></a> 
<a id="x8-118012r5"></a>options: 
<a id="x8-118014r6"></a>  -h, --help            show this help message and exit 
<a id="x8-118016r7"></a>  --use-python-default-buffering 
<a id="x8-118018r8"></a>                        Do not force line buffering in stdout and instead use the python default buffering, which might be affected by PYTHONUNBUFFERED/-u and depends on whatever stdout is interactive or 
<a id="x8-118020r9"></a>                        not 
<a id="x8-118022r10"></a> 
<a id="x8-118024r11"></a>Commands: 
<a id="x8-118026r12"></a>  action     Various action related sub-commands 
<a id="x8-118028r13"></a>  bag        Various rosbag related sub-commands 
<a id="x8-118030r14"></a>  component  Various component related sub-commands 
<a id="x8-118032r15"></a>  daemon     Various daemon related sub-commands 
<a id="x8-118034r16"></a>  doctor     Check ROS setup and other potential issues 
<a id="x8-118036r17"></a>  interface  Show information about ROS interfaces 
<a id="x8-118038r18"></a>  launch     Run a launch file 
<a id="x8-118040r19"></a>  lifecycle  Various lifecycle related sub-commands 
<a id="x8-118042r20"></a>  multicast  Various multicast related sub-commands 
<a id="x8-118044r21"></a>  node       Various node related sub-commands 
<a id="x8-118046r22"></a>  param      Various param related sub-commands 
<a id="x8-118048r23"></a>  pkg        Various package related sub-commands 
<a id="x8-118050r24"></a>  run        Run a package specific executable 
<a id="x8-118052r25"></a>  security   Various security related sub-commands 
<a id="x8-118054r26"></a>  service    Various service related sub-commands 
<a id="x8-118056r27"></a>  topic      Various topic related sub-commands 
<a id="x8-118058r28"></a>  wtf        Use `wtf` as alias to `doctor` 
<a id="x8-118060r29"></a> 
<a id="x8-118062r30"></a>  Call `ros2 &lt;command&gt; -h` for more detailed usage.</div></pre>
       </div>
      </div>
     </div>
     <div class="knowledge">
      <p class="noindent">
       <a class="glossary" href="MobileRoboticsLectureBookli2.html#glo:ros">
        ROS
       </a>
       2 uses a distributed discovery process for nodes to connect to each other. As this process purposefully
does not use a centralized discovery mechanism, it can take time for ROS nodes to discover all other
participants in the ROS graph. Because of this, there is a long-running daemon in the background that
stores information about the ROS graph to provide faster responses to queries, e.g. the list of node names.
      </p>
      <p class="noindent">
       The daemon is automatically started when the relevant command-line tools are used for the
first time. We can run ros2 daemon –help for more options for interacting with the daemon.
      </p>
     </div>
     <p class="noindent">
     </p>
    </div>
    <div class="section-head" id="section-11" sec="section-11">
     <h2 class="sectionHead">
      <a aria-label="Link to this section in PDF version" class="pdf-link" href="MobileRoboticsLectureBook.pdf#section.6.11" style="color: red;  position: absolute;  left: -30px;" target="_blank">
       <svg class="bi bi-file-pdf" fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z">
        </path>
        <path d="M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z">
        </path>
       </svg>
      </a>
      <small class="titlemark">
       6.11
      </small>
      <a id="x8-1190006.11">
      </a>
      Launch  File
     </h2>
     <p class="noindent">
      A ROS 2 system typically consists of many nodes running across many different processes (and even different
machines). While it is possible to run each of these nodes separately, it gets cumbersome quite quickly.
     </p>
     <p class="noindent">
      The launch system in ROS 2 is meant to automate the running of many nodes with a single command. It helps the user describe
the configuration of their system and then executes it as described. The configuration of the system includes what programs to
run, where to run them, what arguments to pass them, and ROS-specific conventions which make it easy to reuse
components throughout the system by giving them each a different configuration. It is also responsible for monitoring
the state of the processes launched, and reporting and/or reacting to changes in the state of those processes.
     </p>
     <p class="noindent">
      All of the above is specified in a launch file, which can be written in Python, XML, or YAML. This
launch file can then be run using the <span id="textcolor2326"><code class="verb">ros2 launch</code></span>
      command, and all of the nodes specified will be run.
     </p>
    </div>
   </article>
   <footer>
    <div class="next">
     <p class="noindent">
      <a href="MobileRoboticsLectureBookch7.html" style="float: right;">
       Next Chapter →
      </a>
      <a href="MobileRoboticsLectureBookch5.html" style="float: left;">
       ← Previous Chapter
      </a>
     </p>
    </div>
   </footer>
  </div>
  <div class="page">
   <article class="chapter">
    <p class="noindent">
     <a id="tailMobileRoboticsLectureBookch6.html">
     </a>
    </p>
   </article>
  </div>
  <div class="lowernav">
   <a href="#home">
    Main TOC
   </a>
   <a href="#news">
    Glossary
   </a>
   <a href="#contact">
    Bibliography
   </a>
   <a href="#about">
    Home
   </a>
  </div>
 </body>
</html>
